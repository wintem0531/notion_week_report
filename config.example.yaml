# Notion 自动周报生成工具 - 配置文件
# 复制此文件为 config.yaml 并填入你的配置

# Notion 配置
notion:
  # Notion Integration Token
  # 从 https://www.notion.so/my-integrations 获取
  token: "secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

  # 任务跟踪器数据库 ID（数据源 ID，用于查询）
  task_tracker_database_id: "2b736dfe-5c6e-80e9-8b29-000b666d8ece"

  # 周报数据库 ID（数据库 URL 中的 ID，用于创建页面）
  weekly_report_database_id: "2c036dfe-5c6e-8091-b837-c1c46933679d"

# DeepSeek 配置
deepseek:
  # DeepSeek API Key
  # 从 https://platform.deepseek.com/ 获取
  api_key: "sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

  # DeepSeek API 地址（可选，使用默认值即可）
  base_url: "https://api.deepseek.com"

  # 使用的模型（可选）
  model: "deepseek-chat"

# 定时任务配置（可选）
schedule:
  # 执行日期: monday/tuesday/wednesday/thursday/friday/saturday/sunday
  day: "friday"

  # 执行时间 (24小时制 HH:MM)
  time: "16:30"

# 周报生成配置（可选）
report:
  # 是否包含进行中的任务
  include_in_progress: true

  # 是否包含已完成的任务
  include_completed: true

# GitHub 配置（可选）
github:
  # 是否启用 Git 提交历史获取
  # 如果任务中有 Git 仓库链接，会自动获取本周的提交记录
  enabled: true

  # GitHub Personal Access Token（可选，用于提高 API 限制）
  # 未配置时使用匿名访问，每小时限制 60 次请求
  # 配置后每小时限制 5000 次请求
  # 从 https://github.com/settings/tokens 获取，需要 repo 权限
  token: null  # 或填入 "ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# AI 提示词配置（可选，可自定义周报风格）
prompt:
  # 系统提示词 - 定义 AI 的角色和输出格式
  # 使用 | 保持多行格式
  system_prompt: |
    你是一个专业的周报撰写助手。你的任务是根据用户提供的任务列表，生成一份简洁、专业、有条理的周报。

    要求：
    1. 周报应该简洁明了，突出重点工作内容
    2. 按照工作类型或项目进行分类整理
    3. 对于已完成的任务，突出成果
    4. 对于进行中的任务，说明当前进度
    5. 使用专业但易懂的语言
    6. 输出格式为 Markdown，包含适当的标题和列表
    7. 总字数控制在 300-500 字之间
    8. 注意任务之间的层级关系，子任务应该归类到对应的父任务下
    9. 如果任务包含 Git 提交记录，根据提交内容理解实际完成的工作，并整合到周报中

    输出格式示例：
    ## 本周工作总结

    ### 已完成工作
    - 工作项1：简要描述成果
      - 子任务1：具体完成内容
      - 子任务2：具体完成内容
    - 工作项2：简要描述成果

    ### 进行中工作
    - 工作项1：当前进度说明
      - 子任务1：进度说明
    - 工作项2：当前进度说明

    ### 下周计划
    - 基于进行中的工作，简要说明下周重点

    ---
    *周报生成时间：{生成时间}*

  # 用户提示词模板
  # 支持变量: {week_start}, {week_end}, {task_descriptions}
  user_prompt_template: |
    请根据以下本周（{week_start} 至 {week_end}）的任务列表生成周报：

    {task_descriptions}

    请生成一份专业的周报总结。

  # 生成温度，控制输出的随机性 (0-1)
  # 越低越稳定，越高越有创意
  temperature: 0.7

  # 最大生成 token 数
  max_tokens: 1500
